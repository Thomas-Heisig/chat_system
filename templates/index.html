<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enhanced Chat System - AI Powered Collaboration</title>
    <meta name="description" content="Echtzeit-Chat-System mit AI, Projektmanagement und WebSocket-Unterst√ºtzung">
    <meta name="keywords" content="chat, AI, collaboration, realtime, websocket, project management">
    <link rel="stylesheet" href="/static/css/style.css">
    <link rel="preload" href="/static/js/chat.js" as="script">
</head>
<body class="theme-light">
    <!-- Main Application Container -->
    <div class="app-container">
        <!-- Sidebar for Navigation and Features -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <h1 class="app-title">üöÄ Chat System</h1>
                <button class="sidebar-toggle" id="sidebarToggle" aria-label="Sidebar ein-/ausblenden">
                    <span class="toggle-icon">‚ò∞</span>
                </button>
            </div>

            <!-- User Profile Section -->
            <div class="user-profile">
                <div class="user-avatar" id="userAvatar">
                    <span class="avatar-placeholder">üë§</span>
                </div>
                <div class="user-info">
                    <h3 id="currentUsername">Gast</h3>
                    <p class="user-status" id="userStatus">Offline</p>
                </div>
                <button class="profile-settings" id="profileSettings" aria-label="Profileinstellungen">
                    ‚öôÔ∏è
                </button>
            </div>

            <!-- Navigation Menu -->
            <nav class="sidebar-nav" aria-label="Hauptnavigation">
                <ul class="nav-menu">
                    <li class="nav-item active">
                        <button class="nav-link" data-section="chat">
                            <span class="nav-icon">üí¨</span>
                            <span class="nav-text">Chat</span>
                        </button>
                    </li>
                    <li class="nav-item">
                        <button class="nav-link" data-section="settings">
                            <span class="nav-icon">‚öôÔ∏è</span>
                            <span class="nav-text">Einstellungen</span>
                        </button>
                    </li>
                    <li class="nav-item">
                        <button class="nav-link" data-section="rag">
                            <span class="nav-icon">üîç</span>
                            <span class="nav-text">RAG System</span>
                        </button>
                    </li>
                    <li class="nav-item">
                        <button class="nav-link" data-section="database">
                            <span class="nav-icon">üóÑÔ∏è</span>
                            <span class="nav-text">Datenbank</span>
                        </button>
                    </li>
                    <li class="nav-item">
                        <button class="nav-link" data-section="projects">
                            <span class="nav-icon">üìä</span>
                            <span class="nav-text">Projekte</span>
                            <span class="nav-badge" id="projectsBadge">0</span>
                        </button>
                    </li>
                    <li class="nav-item">
                        <button class="nav-link" data-section="tickets">
                            <span class="nav-icon">üé´</span>
                            <span class="nav-text">Tickets</span>
                            <span class="nav-badge" id="ticketsBadge">0</span>
                        </button>
                    </li>
                    <li class="nav-item">
                        <button class="nav-link" data-section="files">
                            <span class="nav-icon">üìÅ</span>
                            <span class="nav-text">Dateien</span>
                        </button>
                    </li>
                    <li class="nav-item">
                        <button class="nav-link" data-section="users">
                            <span class="nav-icon">üë•</span>
                            <span class="nav-text">Benutzer</span>
                        </button>
                    </li>
                    <li class="nav-item">
                        <button class="nav-link" data-section="monitoring">
                            <span class="nav-icon">üìà</span>
                            <span class="nav-text">Monitoring</span>
                        </button>
                    </li>
                    <li class="nav-item">
                        <button class="nav-link" data-section="integrations">
                            <span class="nav-icon">üîó</span>
                            <span class="nav-text">Integrationen</span>
                        </button>
                    </li>
                </ul>
            </nav>

            <!-- Room/Channel List -->
            <div class="rooms-section">
                <div class="section-header">
                    <h4>üó®Ô∏è R√§ume</h4>
                    <button class="add-room" id="addRoomBtn" aria-label="Neuen Raum erstellen">+</button>
                </div>
                <div class="rooms-list" id="roomsList">
                    <div class="room-item active" data-room="general">
                        <span class="room-icon">üåê</span>
                        <span class="room-name">General</span>
                        <span class="room-members" id="generalRoomMembers">0</span>
                    </div>
                    <!-- Dynamic rooms will be added here -->
                </div>
            </div>

            <!-- Online Users -->
            <div class="online-users">
                <div class="section-header">
                    <h4>üë• Online</h4>
                    <span class="online-count" id="onlineCount">0</span>
                </div>
                <div class="users-list" id="usersList">
                    <!-- Online users will be populated here -->
                </div>
            </div>

            <!-- System Status -->
            <div class="system-status">
                <div class="status-item">
                    <span class="status-label">AI Status:</span>
                    <span class="status-value ai-status" id="aiStatus">Pr√ºfe...</span>
                </div>
                <div class="status-item">
                    <span class="status-label">Verbindung:</span>
                    <span class="status-value connection-status" id="sidebarConnectionStatus">Verbinde...</span>
                </div>
            </div>
        </aside>

        <!-- Main Content Area -->
        <main class="main-content">
            <!-- Chat Section -->
            <section class="content-section active" id="chatSection">
                <div class="chat-container">
                    <div class="chat-header">
                        <div class="chat-info">
                            <h2 id="chatTitle">General Chat</h2>
                            <div class="chat-meta">
                                <span class="room-info" id="roomInfo">√ñffentlicher Raum</span>
                                <span class="message-count" id="messageCount">0 Nachrichten</span>
                            </div>
                        </div>
                        <div class="chat-controls">
                            <div class="control-group">
                                <label id="languageLabel" for="languageSelect">üåê Sprache</label>
                                <select id="languageSelect" aria-label="Sprache ausw√§hlen">
                                    <option value="de">Deutsch</option>
                                    <option value="en">English</option>
                                    <option value="fr">Fran√ßais</option>
                                    <option value="es">Espa√±ol</option>
                                </select>
                            </div>
                            <div class="control-group">
                                <label id="themeLabel" for="themeSelect">üé® Theme</label>
                                <select id="themeSelect" aria-label="Theme ausw√§hlen">
                                    <option value="light">Light</option>
                                    <option value="dark">Dark</option>
                                    <option value="contrast">High Contrast</option>
                                    <option value="auto">Auto</option>
                                </select>
                            </div>
                            <button class="chat-settings" id="chatSettings" aria-label="Chat-Einstellungen">
                                ‚öôÔ∏è
                            </button>
                        </div>
                    </div>

                    <!-- Enhanced User Info Panel -->
                    <div class="user-info-panel">
                        <div class="user-input-group">
                            <input type="text" id="usernameInput" placeholder="Dein Name" value="Benutzer" 
                                   aria-label="Ihr Benutzername" maxlength="50">
                            <button id="setUsernameBtn" class="primary-btn" aria-label="Benutzernamen speichern">
                                <span class="button-text">Speichern</span>
                                <span class="button-icon">‚úì</span>
                            </button>
                        </div>
                        <div class="user-stats" id="userStats" aria-live="polite">
                            <div class="stat-item">
                                <span class="stat-label">Nachrichten:</span>
                                <span class="stat-value" id="userMessageCount">0</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Online seit:</span>
                                <span class="stat-value" id="userOnlineSince">--:--</span>
                            </div>
                        </div>
                    </div>

                    <!-- Chat Messages Area -->
                    <div class="chat-messages-container">
                        <div class="chat-messages" id="chatMessages" role="log" aria-live="polite" aria-label="Chat-Nachrichten">
                            <div class="message system welcome" id="welcomeMessage" role="status">
                                <div class="message-content">
                                    <h3>Willkommen im Enhanced Chat System! üöÄ</h3>
                                    <p>Verbinde dich mit anderen, erstelle Projekte und nutze die AI-Unterst√ºtzung.</p>
                                    <div class="welcome-features">
                                        <div class="feature-item">
                                            <span class="feature-icon">üí¨</span>
                                            <span>Echtzeit-Chat</span>
                                        </div>
                                        <div class="feature-item">
                                            <span class="feature-icon">ü§ñ</span>
                                            <span>AI Assistant</span>
                                        </div>
                                        <div class="feature-item">
                                            <span class="feature-icon">üìä</span>
                                            <span>Projektmanagement</span>
                                        </div>
                                        <div class="feature-item">
                                            <span class="feature-icon">üìÅ</span>
                                            <span>Datei-Sharing</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Typing Indicators -->
                        <div class="typing-indicators" id="typingIndicators" aria-live="polite">
                            <!-- Typing indicators will appear here -->
                        </div>
                    </div>

                    <!-- Enhanced Chat Input -->
                    <div class="chat-input-panel">
                        <div class="input-actions">
                            <button class="action-btn" id="fileUploadBtn" aria-label="Datei hochladen" title="Datei hochladen">
                                üìé
                            </button>
                            <button class="action-btn" id="emojiPickerBtn" aria-label="Emoji ausw√§hlen" title="Emoji ausw√§hlen">
                                üòä
                            </button>
                            <button class="action-btn" id="aiAssistantBtn" aria-label="AI Assistant √∂ffnen" title="AI Assistant">
                                ü§ñ
                            </button>
                            <button class="action-btn" id="formattingBtn" aria-label="Textformatierung" title="Textformatierung">
                                ùêÄ
                            </button>
                        </div>
                        <div class="message-input-group">
                            <input type="text" id="messageInput" placeholder="Schreibe eine Nachricht..." 
                                   aria-label="Nachricht eingeben" maxlength="4000" disabled>
                            <div class="input-options">
                                <label class="option-checkbox">
                                    <input type="checkbox" id="aiAutoRespond" checked>
                                    <span class="checkmark"></span>
                                    <span class="option-label">AI Antwort</span>
                                </label>
                                <button id="sendMessageBtn" class="send-btn" disabled aria-label="Nachricht senden">
                                    <span class="button-icon">üöÄ</span>
                                    <span class="button-text">Senden</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Projects Section -->
            <section class="content-section" id="projectsSection">
                <div class="section-header">
                    <h2>üìä Projektmanagement</h2>
                    <button class="primary-btn" id="createProjectBtn">
                        <span class="button-icon">+</span>
                        <span class="button-text">Neues Projekt</span>
                    </button>
                </div>
                <div class="projects-grid" id="projectsGrid">
                    <!-- Projects will be loaded here -->
                </div>
            </section>

            <!-- Tickets Section -->
            <section class="content-section" id="ticketsSection">
                <div class="section-header">
                    <h2>üé´ Ticket System</h2>
                    <button class="primary-btn" id="createTicketBtn">
                        <span class="button-icon">+</span>
                        <span class="button-text">Neues Ticket</span>
                    </button>
                </div>
                <div class="tickets-container" id="ticketsContainer">
                    <!-- Tickets will be loaded here -->
                </div>
            </section>

            <!-- Files Section -->
            <section class="content-section" id="filesSection">
                <div class="section-header">
                    <h2>üìÅ Dateimanager</h2>
                    <button class="primary-btn" id="uploadFileBtn">
                        <span class="button-icon">üì§</span>
                        <span class="button-text">Datei hochladen</span>
                    </button>
                </div>
                <div class="files-container" id="filesContainer">
                    <!-- Files will be displayed here -->
                </div>
            </section>

            <!-- AI Assistant Section -->
            <section class="content-section" id="aiSection">
                <div class="ai-container">
                    <div class="ai-header">
                        <h2>ü§ñ AI Assistant</h2>
                        <div class="ai-status-panel">
                            <span class="status-label">Status:</span>
                            <span class="status-value" id="aiAssistantStatus">Verbinde...</span>
                        </div>
                    </div>
                    <div class="ai-conversation" id="aiConversation">
                        <!-- AI conversation will appear here -->
                    </div>
                    <div class="ai-input-panel">
                        <div class="model-selector">
                            <label for="aiModelSelect">Modell:</label>
                            <select id="aiModelSelect">
                                <option value="llama2">Llama 2</option>
                                <option value="mistral">Mistral</option>
                                <option value="custom">Custom Model</option>
                            </select>
                        </div>
                        <div class="ai-input-group">
                            <input type="text" id="aiMessageInput" placeholder="Frage den AI Assistant..." 
                                   aria-label="AI Nachricht eingeben">
                            <button id="sendAIMessageBtn" class="primary-btn">
                                <span class="button-icon">ü§ñ</span>
                                <span class="button-text">Fragen</span>
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Analytics Section -->
            <section class="content-section" id="analyticsSection">
                <div class="analytics-container">
                    <h2>üìà System Analytics</h2>
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-icon">üí¨</div>
                            <div class="stat-info">
                                <h3 id="totalMessages">0</h3>
                                <p>Nachrichten gesamt</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">üë•</div>
                            <div class="stat-info">
                                <h3 id="totalUsers">0</h3>
                                <p>Benutzer online</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">ü§ñ</div>
                            <div class="stat-info">
                                <h3 id="aiResponses">0</h3>
                                <p>AI Antworten</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">üìä</div>
                            <div class="stat-info">
                                <h3 id="activeProjects">0</h3>
                                <p>Aktive Projekte</p>
                            </div>
                        </div>
                    </div>
                    <div class="charts-container">
                        <!-- Analytics charts will be added here -->
                    </div>
                </div>
            </section>

            <!-- Settings Section -->
            <section class="content-section" id="settingsSection">
                <div class="settings-container">
                    <h2>‚öôÔ∏è Einstellungen</h2>
                    
                    <!-- Settings Tabs -->
                    <div class="settings-tabs">
                        <button class="settings-tab active" data-settings-tab="general">Allgemein</button>
                        <button class="settings-tab" data-settings-tab="ai">AI</button>
                        <button class="settings-tab" data-settings-tab="security">Sicherheit</button>
                        <button class="settings-tab" data-settings-tab="features">Features</button>
                        <button class="settings-tab" data-settings-tab="ui">UI</button>
                    </div>
                    
                    <!-- General Settings -->
                    <div class="settings-panel active" id="generalSettingsPanel">
                        <h3>Allgemeine Einstellungen</h3>
                        <div class="settings-form">
                            <div class="form-group">
                                <label for="appName">App Name</label>
                                <input type="text" id="appName" placeholder="Chat System">
                            </div>
                            <div class="form-group">
                                <label for="debugMode">Debug Modus</label>
                                <label class="switch">
                                    <input type="checkbox" id="debugMode">
                                    <span class="slider"></span>
                                </label>
                            </div>
                            <div class="form-group">
                                <label for="logLevel">Log Level</label>
                                <select id="logLevel">
                                    <option value="DEBUG">DEBUG</option>
                                    <option value="INFO" selected>INFO</option>
                                    <option value="WARNING">WARNING</option>
                                    <option value="ERROR">ERROR</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <!-- AI Settings -->
                    <div class="settings-panel" id="aiSettingsPanel">
                        <h3>AI Einstellungen</h3>
                        <div class="settings-form">
                            <div class="form-group">
                                <label for="aiEnabled">AI aktivieren</label>
                                <label class="switch">
                                    <input type="checkbox" id="aiEnabled" checked>
                                    <span class="slider"></span>
                                </label>
                            </div>
                            <div class="form-group">
                                <label for="ollamaUrl">Ollama URL</label>
                                <input type="url" id="ollamaUrl" placeholder="http://localhost:11434">
                            </div>
                            <div class="form-group">
                                <label for="defaultModel">Standard Modell</label>
                                <select id="defaultModel">
                                    <option value="llama2">Llama 2</option>
                                    <option value="mistral">Mistral</option>
                                    <option value="codellama">Code Llama</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="aiTemperature">Temperatur: <span id="tempValue">0.7</span></label>
                                <input type="range" id="aiTemperature" min="0" max="1" step="0.1" value="0.7">
                            </div>
                            <div class="form-group">
                                <label for="maxTokens">Max Tokens</label>
                                <input type="number" id="maxTokens" value="1000" min="100" max="4000">
                            </div>
                            <div class="form-group">
                                <label for="autoRespond">Auto-Antwort</label>
                                <label class="switch">
                                    <input type="checkbox" id="autoRespond" checked>
                                    <span class="slider"></span>
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Security Settings -->
                    <div class="settings-panel" id="securitySettingsPanel">
                        <h3>Sicherheitseinstellungen</h3>
                        <div class="settings-form">
                            <div class="form-group">
                                <label for="rateLimitEnabled">Rate-Limiting aktivieren</label>
                                <label class="switch">
                                    <input type="checkbox" id="rateLimitEnabled" checked>
                                    <span class="slider"></span>
                                </label>
                            </div>
                            <div class="form-group">
                                <label for="rateLimitRequests">Max Anfragen</label>
                                <input type="number" id="rateLimitRequests" value="100" min="10" max="1000">
                            </div>
                            <div class="form-group">
                                <label for="rateLimitWindow">Zeitfenster (Sekunden)</label>
                                <input type="number" id="rateLimitWindow" value="60" min="10" max="300">
                            </div>
                            <div class="form-group">
                                <label for="corsOrigins">CORS Origins (kommagetrennt)</label>
                                <textarea id="corsOrigins" rows="3" placeholder="http://localhost:3000"></textarea>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Feature Settings -->
                    <div class="settings-panel" id="featuresSettingsPanel">
                        <h3>Feature Einstellungen</h3>
                        <div class="settings-form">
                            <div class="form-group">
                                <label for="projectManagement">Projektmanagement</label>
                                <label class="switch">
                                    <input type="checkbox" id="projectManagement" checked>
                                    <span class="slider"></span>
                                </label>
                            </div>
                            <div class="form-group">
                                <label for="ticketSystem">Ticket-System</label>
                                <label class="switch">
                                    <input type="checkbox" id="ticketSystem" checked>
                                    <span class="slider"></span>
                                </label>
                            </div>
                            <div class="form-group">
                                <label for="fileUpload">Datei-Upload</label>
                                <label class="switch">
                                    <input type="checkbox" id="fileUpload" checked>
                                    <span class="slider"></span>
                                </label>
                            </div>
                            <div class="form-group">
                                <label for="userAuthentication">Benutzer-Authentifizierung</label>
                                <label class="switch">
                                    <input type="checkbox" id="userAuthentication">
                                    <span class="slider"></span>
                                </label>
                            </div>
                            <div class="form-group">
                                <label for="websocketEnabled">WebSocket aktivieren</label>
                                <label class="switch">
                                    <input type="checkbox" id="websocketEnabled" checked>
                                    <span class="slider"></span>
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <!-- UI Settings -->
                    <div class="settings-panel" id="uiSettingsPanel">
                        <h3>UI Einstellungen</h3>
                        <div class="settings-form">
                            <div class="form-group">
                                <label for="uiTheme">Theme</label>
                                <select id="uiTheme">
                                    <option value="light">Hell</option>
                                    <option value="dark">Dunkel</option>
                                    <option value="auto">Automatisch</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="uiLanguage">Sprache</label>
                                <select id="uiLanguage">
                                    <option value="de" selected>Deutsch</option>
                                    <option value="en">English</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="showTimestamps">Zeitstempel anzeigen</label>
                                <label class="switch">
                                    <input type="checkbox" id="showTimestamps" checked>
                                    <span class="slider"></span>
                                </label>
                            </div>
                            <div class="form-group">
                                <label for="enableSound">Sound aktivieren</label>
                                <label class="switch">
                                    <input type="checkbox" id="enableSound" checked>
                                    <span class="slider"></span>
                                </label>
                            </div>
                            <div class="form-group">
                                <label for="enableNotifications">Benachrichtigungen aktivieren</label>
                                <label class="switch">
                                    <input type="checkbox" id="enableNotifications" checked>
                                    <span class="slider"></span>
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <div class="settings-actions">
                        <button class="primary-btn" id="saveSettingsBtn">
                            <span class="button-icon">üíæ</span>
                            <span class="button-text">Speichern</span>
                        </button>
                        <button class="secondary-btn" id="resetSettingsBtn">
                            <span class="button-icon">‚Ü©Ô∏è</span>
                            <span class="button-text">Zur√ºcksetzen</span>
                        </button>
                        <button class="secondary-btn" id="exportSettingsBtn">
                            <span class="button-icon">üì§</span>
                            <span class="button-text">Exportieren</span>
                        </button>
                    </div>
                </div>
            </section>

            <!-- RAG Section -->
            <section class="content-section" id="ragSection">
                <div class="rag-container">
                    <h2>üîç RAG System (Retrieval Augmented Generation)</h2>
                    
                    <div class="rag-status">
                        <div class="status-card">
                            <h4>Status</h4>
                            <span class="status-indicator" id="ragStatus">Inaktiv</span>
                        </div>
                        <div class="status-card">
                            <h4>Provider</h4>
                            <span id="ragProvider">ChromaDB</span>
                        </div>
                        <div class="status-card">
                            <h4>Dokumente</h4>
                            <span id="ragDocCount">0</span>
                        </div>
                    </div>
                    
                    <div class="rag-settings">
                        <h3>RAG Einstellungen</h3>
                        <div class="settings-form">
                            <div class="form-group">
                                <label for="ragEnabled">RAG aktivieren</label>
                                <label class="switch">
                                    <input type="checkbox" id="ragEnabled">
                                    <span class="slider"></span>
                                </label>
                            </div>
                            <div class="form-group">
                                <label for="vectorDbProvider">Vector Datenbank</label>
                                <select id="vectorDbProvider">
                                    <option value="chromadb">ChromaDB (lokal)</option>
                                    <option value="qdrant">Qdrant</option>
                                    <option value="pinecone">Pinecone</option>
                                    <option value="weaviate">Weaviate</option>
                                    <option value="milvus">Milvus</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="embeddingModel">Embedding Modell</label>
                                <select id="embeddingModel">
                                    <option value="all-MiniLM-L6-v2">all-MiniLM-L6-v2</option>
                                    <option value="all-mpnet-base-v2">all-mpnet-base-v2</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="chunkSize">Chunk Gr√∂√üe</label>
                                <input type="number" id="chunkSize" value="512" min="100" max="2000">
                            </div>
                            <div class="form-group">
                                <label for="chunkOverlap">Chunk √úberlappung</label>
                                <input type="number" id="chunkOverlap" value="50" min="0" max="500">
                            </div>
                        </div>
                    </div>
                    
                    <div class="rag-documents">
                        <h3>Dokument Upload</h3>
                        <div class="upload-zone" id="ragUploadZone">
                            <input type="file" id="ragFileInput" accept=".txt,.pdf,.md,.html" multiple>
                            <p>Dateien hier ablegen oder klicken zum Hochladen</p>
                            <p class="file-types">Unterst√ºtzt: .txt, .pdf, .md, .html</p>
                        </div>
                        <div id="ragUploadedFiles" class="uploaded-files-list"></div>
                    </div>
                    
                    <div class="rag-test">
                        <h3>RAG Pipeline testen</h3>
                        <div class="test-form">
                            <input type="text" id="ragTestQuery" placeholder="Suchbegriff eingeben...">
                            <button class="primary-btn" id="ragTestBtn">
                                <span class="button-icon">üîç</span>
                                <span class="button-text">Suchen</span>
                            </button>
                        </div>
                        <div id="ragTestResults" class="test-results"></div>
                    </div>
                </div>
            </section>

            <!-- Database Section -->
            <section class="content-section" id="databaseSection">
                <div class="database-container">
                    <h2>üóÑÔ∏è Datenbank</h2>
                    
                    <div class="db-status-grid">
                        <div class="status-card">
                            <h4>Status</h4>
                            <span class="status-indicator healthy" id="dbStatus">Verbunden</span>
                        </div>
                        <div class="status-card">
                            <h4>Typ</h4>
                            <span id="dbType">SQLite</span>
                        </div>
                        <div class="status-card">
                            <h4>Gr√∂√üe</h4>
                            <span id="dbSize">0 MB</span>
                        </div>
                        <div class="status-card">
                            <h4>Tabellen</h4>
                            <span id="dbTableCount">0</span>
                        </div>
                    </div>
                    
                    <div class="db-config">
                        <h3>Datenbank Konfiguration</h3>
                        <div class="settings-form">
                            <div class="form-group">
                                <label for="dbTypeSelect">Datenbank Typ</label>
                                <select id="dbTypeSelect">
                                    <option value="sqlite" selected>SQLite (Standard)</option>
                                    <option value="postgresql">PostgreSQL</option>
                                    <option value="mysql">MySQL</option>
                                    <option value="mongodb">MongoDB</option>
                                </select>
                            </div>
                            <div class="form-group" id="dbHostGroup">
                                <label for="dbHost">Host</label>
                                <input type="text" id="dbHost" placeholder="localhost">
                            </div>
                            <div class="form-group" id="dbPortGroup">
                                <label for="dbPort">Port</label>
                                <input type="number" id="dbPort" value="5432">
                            </div>
                            <div class="form-group">
                                <label for="dbName">Datenbank Name</label>
                                <input type="text" id="dbName" placeholder="chat_system">
                            </div>
                            <div class="form-group">
                                <label for="dbPoolSize">Pool Gr√∂√üe</label>
                                <input type="number" id="dbPoolSize" value="10" min="1" max="100">
                            </div>
                        </div>
                    </div>
                    
                    <div class="db-actions">
                        <button class="primary-btn" id="dbTestConnectionBtn">
                            <span class="button-icon">üîå</span>
                            <span class="button-text">Verbindung testen</span>
                        </button>
                        <button class="secondary-btn" id="dbBackupBtn">
                            <span class="button-icon">üíæ</span>
                            <span class="button-text">Backup erstellen</span>
                        </button>
                        <button class="secondary-btn" id="dbOptimizeBtn">
                            <span class="button-icon">‚ö°</span>
                            <span class="button-text">Optimieren</span>
                        </button>
                    </div>
                    
                    <div class="db-stats">
                        <h3>Datenbank Statistiken</h3>
                        <div id="dbStatsTable" class="stats-table">
                            <!-- Stats will be loaded dynamically -->
                        </div>
                    </div>
                    
                    <div class="db-backups">
                        <h3>Backups</h3>
                        <div id="dbBackupsList" class="backups-list">
                            <!-- Backups will be loaded dynamically -->
                        </div>
                    </div>
                </div>
            </section>

            <!-- Users Section -->
            <section class="content-section" id="usersSection">
                <div class="users-container">
                    <h2>üë• Benutzer & Authentifizierung</h2>
                    
                    <div class="users-header">
                        <button class="primary-btn" id="createUserBtn">
                            <span class="button-icon">‚ûï</span>
                            <span class="button-text">Neuer Benutzer</span>
                        </button>
                    </div>
                    
                    <div class="users-list" id="usersList">
                        <!-- Users will be loaded dynamically -->
                    </div>
                    
                    <div class="api-keys-section">
                        <h3>API Keys</h3>
                        <button class="secondary-btn" id="createApiKeyBtn">
                            <span class="button-icon">üîë</span>
                            <span class="button-text">Neuer API Key</span>
                        </button>
                        <div id="apiKeysList" class="api-keys-list">
                            <!-- API keys will be loaded dynamically -->
                        </div>
                    </div>
                    
                    <div class="sessions-section">
                        <h3>Aktive Sessions</h3>
                        <div class="session-stats">
                            <span>Aktive Sessions: <strong id="activeSessions">0</strong></span>
                            <button class="text-btn" id="cleanupSessionsBtn">Sessions bereinigen</button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Monitoring Section -->
            <section class="content-section" id="monitoringSection">
                <div class="monitoring-container">
                    <h2>üìà Monitoring & Logs</h2>
                    
                    <div class="system-health">
                        <h3>System Health</h3>
                        <div class="health-grid">
                            <div class="health-card">
                                <span class="health-icon">üñ•Ô∏è</span>
                                <div class="health-info">
                                    <h4>CPU</h4>
                                    <span id="cpuUsage">0%</span>
                                </div>
                            </div>
                            <div class="health-card">
                                <span class="health-icon">üíæ</span>
                                <div class="health-info">
                                    <h4>Speicher</h4>
                                    <span id="memoryUsage">0%</span>
                                </div>
                            </div>
                            <div class="health-card">
                                <span class="health-icon">üíø</span>
                                <div class="health-info">
                                    <h4>Disk</h4>
                                    <span id="diskUsage">0%</span>
                                </div>
                            </div>
                            <div class="health-card">
                                <span class="health-icon">üåê</span>
                                <div class="health-info">
                                    <h4>Netzwerk</h4>
                                    <span id="networkStatus">OK</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="logs-section">
                        <h3>Live Logs</h3>
                        <div class="logs-controls">
                            <select id="logLevelFilter">
                                <option value="">Alle Level</option>
                                <option value="DEBUG">DEBUG</option>
                                <option value="INFO">INFO</option>
                                <option value="WARNING">WARNING</option>
                                <option value="ERROR">ERROR</option>
                            </select>
                            <input type="text" id="logSearch" placeholder="Suchen...">
                            <button class="text-btn" id="refreshLogsBtn">üîÑ Aktualisieren</button>
                        </div>
                        <div id="logsContainer" class="logs-container">
                            <!-- Logs will be loaded dynamically -->
                        </div>
                    </div>
                    
                    <div class="api-stats">
                        <h3>API Nutzung</h3>
                        <div class="stats-grid">
                            <div class="stat-card">
                                <h4>Anfragen (24h)</h4>
                                <span id="apiRequests24h">0</span>
                            </div>
                            <div class="stat-card">
                                <h4>Fehler (24h)</h4>
                                <span id="apiErrors24h">0</span>
                            </div>
                            <div class="stat-card">
                                <h4>Durchschnittliche Latenz</h4>
                                <span id="avgLatency">0ms</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Integrations Section -->
            <section class="content-section" id="integrationsSection">
                <div class="integrations-container">
                    <h2>üîó Integrationen</h2>
                    
                    <div class="integration-card">
                        <div class="integration-header">
                            <span class="integration-icon">üîó</span>
                            <h3>Webhooks</h3>
                        </div>
                        <div class="integration-content">
                            <p>Externe Dienste bei Ereignissen benachrichtigen</p>
                            <button class="secondary-btn" id="addWebhookBtn">Webhook hinzuf√ºgen</button>
                        </div>
                        <div id="webhooksList" class="webhooks-list">
                            <!-- Webhooks will be loaded dynamically -->
                        </div>
                    </div>
                    
                    <div class="integration-card">
                        <div class="integration-header">
                            <span class="integration-icon">üí¨</span>
                            <h3>Slack</h3>
                        </div>
                        <div class="integration-content">
                            <p>Nachrichten in Slack Channels senden</p>
                            <div class="form-group">
                                <label for="slackWebhookUrl">Slack Webhook URL</label>
                                <input type="url" id="slackWebhookUrl" placeholder="https://hooks.slack.com/...">
                            </div>
                            <button class="secondary-btn" id="testSlackBtn">Testen</button>
                        </div>
                    </div>
                    
                    <div class="integration-card">
                        <div class="integration-header">
                            <span class="integration-icon">üéÆ</span>
                            <h3>Discord</h3>
                        </div>
                        <div class="integration-content">
                            <p>Nachrichten in Discord Channels senden</p>
                            <div class="form-group">
                                <label for="discordWebhookUrl">Discord Webhook URL</label>
                                <input type="url" id="discordWebhookUrl" placeholder="https://discord.com/api/webhooks/...">
                            </div>
                            <button class="secondary-btn" id="testDiscordBtn">Testen</button>
                        </div>
                    </div>
                    
                    <div class="plugins-section">
                        <h3>Plugins (Beta)</h3>
                        <p class="info-text">Plugin-System ist in Entwicklung. Zuk√ºnftige Plugins werden hier angezeigt.</p>
                        <div id="pluginsList" class="plugins-list">
                            <!-- Plugins will be loaded dynamically -->
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Modals and Overlays -->
    <div class="modal-overlay" id="modalOverlay">
        <!-- Profile Settings Modal -->
        <div class="modal" id="profileModal" role="dialog" aria-labelledby="profileModalTitle">
            <div class="modal-header">
                <h3 id="profileModalTitle">Profileinstellungen</h3>
                <button class="modal-close" aria-label="Schlie√üen">√ó</button>
            </div>
            <div class="modal-content">
                <!-- Profile settings form will be here -->
            </div>
        </div>

        <!-- Room Creation Modal -->
        <div class="modal" id="roomModal" role="dialog" aria-labelledby="roomModalTitle">
            <div class="modal-header">
                <h3 id="roomModalTitle">Neuen Raum erstellen</h3>
                <button class="modal-close" aria-label="Schlie√üen">√ó</button>
            </div>
            <div class="modal-content">
                <!-- Room creation form will be here -->
            </div>
        </div>

        <!-- File Upload Modal -->
        <div class="modal" id="uploadModal" role="dialog" aria-labelledby="uploadModalTitle">
            <div class="modal-header">
                <h3 id="uploadModalTitle">Datei hochladen</h3>
                <button class="modal-close" aria-label="Schlie√üen">√ó</button>
            </div>
            <div class="modal-content">
                <!-- File upload form will be here -->
            </div>
        </div>
    </div>

    <!-- Notification System -->
    <div id="notificationContainer" class="notification-container" aria-live="assertive"></div>

    <!-- Loading Spinner -->
    <div class="loading-spinner" id="loadingSpinner" aria-live="polite">
        <div class="spinner"></div>
        <p>Lade...</p>
    </div>

    <!-- Connection Status Bar -->
    <div class="connection-bar" id="connectionBar" role="status" aria-live="polite">
        <div class="connection-info">
            <span class="status-indicator" id="connectionIndicator"></span>
            <span class="status-text" id="connectionStatusText">Verbinde mit Server...</span>
        </div>
        <div class="connection-stats">
            <span class="stat" id="pingStat">Ping: --ms</span>
            <span class="stat" id="messageRate">Rate: --/s</span>
        </div>
    </div>

    <script src="/static/js/chat.js"></script>
    <script src="/static/js/admin.js"></script>
</body>
</html>